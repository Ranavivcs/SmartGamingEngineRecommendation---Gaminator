# סיכום מצגת - Gaming Recommendation App

## פתיחה

שלום, אנחנו מציגים היום את הפרויקט שלנו - אפליקציית המלצות משחקים מבוססת AI.

האפליקציה שלנו מאפשרת למשתמשים להתחבר דרך Steam, ולקבל המלצות משחקים מותאמות אישית באמצעות בינה מלאכותית שמנתחת את הפרופיל הגיימינג שלהם ואת ההעדפות שלהם.

---

## מה האפליקציה עושה?

האפליקציה שלנו פותרת בעיה אמיתית - גיימרים שיש להם הרבה משחקים ב-Steam לא תמיד יודעים מה לשחק הבא. האפליקציה שלנו:

1. **מתחברת לחשבון Steam** של המשתמש דרך OAuth
2. **מנתחת את הפרופיל הגיימינג** - אילו משחקים יש לו, כמה שעות שיחק בכל משחק
3. **מאפשרת למשתמש לתת ביקורות** - איזה משחקים הוא אוהב ולא אוהב ולמה
4. **משתמשת ב-AI** כדי להבין את ההעדפות שלו ולהציע משחקים חדשים מותאמים אישית
5. **מציגה המלצות** עם הסברים מדוע כל משחק מתאים לו

---

## הטכנולוגיות שבהן השתמשנו

### Frontend - מה המשתמש רואה

**Next.js 16** - זה ה-Framework הראשי שלנו. בחר�ו ב-Next.js כי:
- זה React אבל עם יכולות נוספות של Server-Side Rendering
- יש לו API Routes מובנים, אז לא צריך שרת נפרד
- יש לו אופטימיזציה אוטומטית לתמונות וקוד
- התמיכה ב-TypeScript מעולה

**TypeScript** - כל הקוד שלנו כתוב ב-TypeScript. זה נותן לנו:
- Type safety - פחות באגים בזמן פיתוח
- IntelliSense טוב יותר ב-IDE
- קוד יותר קריא ותחזוקתי

**Tailwind CSS** - לעיצוב. Utility-first CSS שמאפשר לנו לעצב מהר וביעילות.

**Framer Motion** - לאנימציות חלקות ומקצועיות.

### Backend - מה קורה מאחורי הקלעים

**Supabase** - זה ה-Database שלנו. בחרנו ב-Supabase כי:
- זה PostgreSQL - database SQL חזק ומבוסס
- יש לו Row Level Security מובנה לאבטחה
- יש לו Free tier נדיב לפרויקטים
- קל להגדרה ותחזוקה

**Next.js API Routes** - כל הלוגיקה של השרת שלנו כתובה ב-API Routes של Next.js. זה מאפשר לנו:
- לכתוב את כל הקוד באותו פרויקט
- שיתוף types בין frontend ל-backend
- Deployment קל יותר

**JWT Authentication** - לניהול sessions. אנחנו משתמשים ב-JWT tokens שמוחזקים ב-HTTP-only cookies למניעת XSS attacks.

### APIs חיצוניים

**Steam API** - כדי לקבל את המידע על המשתמש והמשחקים שלו:
- פרטי פרופיל (שם, תמונה)
- רשימת כל המשחקים בבעלות
- כמה שעות שיחק בכל משחק
- משחקים אחרונים

**RAWG API** - כדי להעשיר את המידע על המשחקים:
- Ratings ו-Metacritic scores
- Genres ו-Tags
- תאריכי יציאה
- תיאורים מפורטים

**OpenAI Agents SDK** - זה הלב של המערכת. אנחנו משתמשים ב-AI Agent עם GPT-4o ש:
- מנתח את הפרופיל הגיימינג של המשתמש
- מבין את ההעדפות שלו מביקורות שהוא נתן
- מציע משחקים חדשים עם הסברים מותאמים אישית

---

## איך הקוד בנוי - ארכיטקטורה

### מבנה התיקיות

הפרויקט שלנו מחולק בצורה לוגית:

**app/** - כל הדפים וה-API Routes. Next.js משתמש ב-App Router, אז כל תיקייה היא route.

**components/** - כל הקומפוננטים של React. כל קומפוננטה נמצאת בתיקייה משלה עם View ו-Logic נפרדים.

**lib/** - כל הלוגיקה העסקית:
- `steam-api.ts` - כל הקריאות ל-Steam API
- `rawg-api.ts` - כל הקריאות ל-RAWG API
- `session.ts` - ניהול sessions ו-authentication
- `agents/` - הלוגיקה של ה-AI Agent

**types/** - כל הגדרות ה-TypeScript types

**supabase/migrations/** - קבצי SQL ליצירת הטבלאות ב-database

### Design Patterns

**Agent Pattern** - ה-AI Agent שלנו הוא אובייקט עם tools שהוא יכול להשתמש בהם. זה מאפשר לו לקרוא ל-functions כמו שליפת פרופיל Steam, ולא רק לנתח טקסט.

**Repository Pattern** - כל ה-API clients נפרדים מהלוגיקה העסקית. למשל, `steam-api.ts` מטפל רק בקריאות ל-Steam API, והלוגיקה העסקית נמצאת במקום אחר.

**View/Presenter Pattern** - הקומפוננטות שלנו מחולקות ל-View (מה שרואים) ו-Logic (מה שקורה). זה עוזר לתחזוקה ובדיקות.

---

## זרימת הנתונים - איך הכל עובד יחד

### תהליך ההתחברות

1. המשתמש לוחץ על "Sign in with Steam"
2. האפליקציה מפנה אותו ל-Steam OAuth
3. Steam מאמת את המשתמש ומחזיר callback
4. השרת יוצר JWT token ושומר אותו ב-HTTP-only cookie
5. המשתמש מועבר ל-Dashboard

### תהליך יצירת המלצות

1. המשתמש מבקש המלצות (או עם filters ספציפיים)
2. השרת בודק את ה-session שלו
3. השרת קורא ל-Steam API כדי לקבל את רשימת המשחקים שלו
4. השרת קורא ל-Database כדי לקבל את הביקורות שלו
5. השרת שולח את כל המידע ל-AI Agent
6. ה-AI Agent מנתח את המידע ומציע משחקים
7. השרת מחזיר את ההמלצות ל-frontend
8. המשתמש רואה את ההמלצות עם הסברים

### העשרת מידע

כשאנחנו רוצים מידע נוסף על משחק:
1. יש לנו את השם מ-Steam
2. אנחנו מחפשים אותו ב-RAWG API
3. אנחנו מתאימים בין השמות (יש לנו לוגיקה של match confidence)
4. אנחנו מעשירים את המידע עם ratings, genres, tags

---

## אבטחה

אבטחה הייתה חשובה לנו מאוד בפרויקט:

**Authentication:**
- JWT tokens עם secret key חזק
- HTTP-only cookies - לא נגישים מ-JavaScript, מונע XSS attacks
- Secure flag ב-production
- SameSite: lax למניעת CSRF

**Database:**
- Row Level Security מופעל ב-Supabase
- Service Role Key רק ב-server-side, לא נגיש ל-client
- Anon Key ל-client-side רק לפעולות read

**API Security:**
- כל API route בודק session לפני ביצוע פעולות
- API keys נשמרים ב-environment variables, לא בקוד
- Error handling שלא חושף מידע רגיש

---

## ביצועים ואופטימיזציה

**Caching:**
- אנחנו משתמשים ב-SWR ל-data fetching עם caching אוטומטי
- זה מפחית את מספר הקריאות ל-APIs

**Rate Limiting:**
- יש לנו delay של 200ms בין בקשות ל-RAWG API כדי לא לעבור על rate limits

**Code Splitting:**
- Next.js עושה code splitting אוטומטית
- רק הקוד הנדרש נטען בכל דף

**Image Optimization:**
- Next.js Image component עושה אופטימיזציה אוטומטית לתמונות

---

## Testing

יש לנו מערכת בדיקות מקיפה:

**Jest** - Test runner
**React Testing Library** - לבדיקת קומפוננטות
**Mock Data** - נתונים מדומים לבדיקות

אנחנו בודקים:
- רינדור של קומפוננטות
- אינטראקציות של משתמשים
- תגובות של APIs
- טיפול בשגיאות

---

## Database Schema

יש לנו שתי טבלאות עיקריות:

**Users Table:**
- `steam_id` - המפתח הראשי
- `username`, `avatar`, `profile_url`
- `created_at`, `last_login`

**Reviews Table:**
- `id` - מפתח ראשי
- `steam_id` - קישור למשתמש
- `game_id`, `game_title`
- `reaction` - 'like' או 'dislike'
- `reasons` - מערך של סיבות
- `details_text` - טקסט חופשי
- `created_at`

---

## נקודות חשובות לשאלות

### למה Next.js ולא React רגיל?

Next.js נותן לנו Server-Side Rendering, API Routes מובנים, ואופטימיזציות אוטומטיות. זה חוסך לנו זמן פיתוח ומשפר ביצועים.

### למה Supabase ולא MongoDB?

PostgreSQL הוא database SQL חזק ומבוסס. Row Level Security נותן לנו אבטחה טובה יותר. וגם יש Free tier נדיב.

### למה AI Agent ולא prompt פשוט?

ה-Agent יכול להשתמש ב-Tools - הוא יכול לקרוא ל-functions כמו Steam API. זה נותן לו גישה למידע אמיתי ולא רק לטקסט. גם יש לו Context awareness - הוא זוכר את השיחה.

### איך מטפלים בשגיאות?

יש לנו try-catch blocks בכל מקום קריטי. אנחנו מציגים הודעות שגיאה ידידותיות למשתמש ולא חושפים מידע רגיש. ב-production היינו מוסיפים error tracking service.

### איך מטפלים ב-rate limiting?

יש לנו delay בין בקשות ל-RAWG API. אנחנו גם משתמשים ב-caching כדי להפחית בקשות מיותרות.

---

## Features של האפליקציה

✅ התחברות דרך Steam OAuth  
✅ הצגת פרופיל משתמש מ-Steam  
✅ המלצות AI מותאמות אישית  
✅ Filters - אפשר לסנן לפי genres, difficulty, playtime  
✅ ביקורות משתמש - אפשר לסמן משחקים כאהובים או לא אהובים  
✅ ניתוח העדפות - ה-AI לומד מהביקורות ומתאים את ההמלצות  
✅ UI מודרני עם אנימציות חלקות  

---

## סיכום

הפרויקט שלנו מציג שילוב של טכנולוגיות מודרניות:
- **Full-stack TypeScript** - Type safety בכל השכבות
- **Modern React** - Server Components, App Router
- **AI-Powered** - OpenAI Agents להמלצות חכמות
- **Secure** - JWT, RLS, HTTP-only cookies
- **Scalable** - ארכיטקטורה מודולרית
- **Tested** - מערכת בדיקות מקיפה

האפליקציה פותרת בעיה אמיתית ומשתמשת בטכנולוגיות מתקדמות כדי לספק חוויית משתמש מעולה.

---

## שאלות?

מוכנים לשאלות!
